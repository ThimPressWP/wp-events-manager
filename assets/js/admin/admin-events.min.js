!function(a){"use strict";var b={};b.init=function(){for(var c=a("#widgets-right .widget-content"),d=0;d<=c.length;d++){var e=a(c[d]);e.find(".tp_event_admin_widget:first").addClass("active"),e.find(".tp_event_widget_tab li a:first").addClass("button-primary"),a(document).on("click",".tp_event_widget_tab li a",function(b){b.preventDefault();var c=a(this).attr("data-tab"),d=a(this).parents(".widget-content"),e=a(this).parents(".tp_event_widget_tab");return e.find("li a").removeClass("button-primary"),a(this).addClass("button-primary"),d.find(".tp_event_admin_widget").removeClass("active"),d.find('.tp_event_admin_widget[data-status="'+c+'"]').addClass("active"),!1})}a('input[name="thimpress_events_email_enable"]').on("click",function(){var b=!a(this).is(":checked");a(".email-setting-form-name, .email-setting-email-form, .email-setting-subject").toggleClass("hide-if-js",b)}),a('input[name="thimpress_events_paypal_enable"]').on("click",function(){var b=!a(this).is(":checked");a(".paypal-production-email, .paypal-sandbox-mode, .paypal-sandbox-email").toggleClass("hide-if-js",b)}),a('input[name="thimpress_events_allow_register_event"]').on("click",function(){var b=!a(this).is(":checked");a(".setting-currency, .setting-currency-position, .setting-currency-thousand, .setting-currency-separator, .setting-number-decimals").toggleClass("hide-if-js",b)}),a(document).on("click",".tp-event-dismiss-notice button",function(b){var c=a(this).closest(".tp-event-dismiss-notice");c.length&&(b.preventDefault(),a.ajax({url:ajaxurl,type:"POST",data:{action:"event_remove_notice"}}))}),b.admin_meta_boxes.init()},b.admin_meta_boxes={init:function(){var b=a(document);b.on("click",".event_meta_panel .open-extra",this.open_extra),this.datetimepicker()},open_extra:function(b){b.preventDefault();var c=a(this),d=a("#"+c.attr("data-target")),e=d.parents(".option_group:first"),f=c.attr("data-text"),g=c.text();"yes"===d.val()?(e.addClass("hide-if-js"),d.val("")):(e.removeClass("hide-if-js"),d.val("yes")),c.attr("data-text",g).text(f)},datetimepicker:function(){var b=a("#_date_start"),c=a("#_time_start"),d=a("#_date_end"),e=a("#_time_end"),f=a("#_registration_end_date"),g=a("#_registration_end_time");b.datetimepicker({timepicker:!1,format:"Y-m-d",onShow:function(a){this.setOptions({maxDate:!!d.val()&&d.val()})}}),c.datetimepicker({datepicker:!1,format:"H:i"}),d.datetimepicker({timepicker:!1,format:"Y-m-d",setDate:"+1",onShow:function(a){this.setOptions({minDate:!!b.val()&&b.val()})}}),e.datetimepicker({datepicker:!1,format:"H:i"}),f.datetimepicker({timepicker:!1,format:"Y-m-d",setDate:"+1",onShow:function(a){this.setOptions({minDate:!!b.val()&&b.val()})}}),g.datetimepicker({datepicker:!1,format:"H:i"})}},a(document).ready(function(){b.init()})}(jQuery);